[package]
name = "packsquash_cli"
description = "Minecraft resource and data pack optimizer (CLI)"
version.workspace = true
authors.workspace = true
repository.workspace = true
license.workspace = true
publish.workspace = true
edition.workspace = true

[dependencies]
packsquash.workspace = true
packsquash_options.workspace = true
packsquash_util.workspace = true

toml = { workspace = true, features = ["parse"] }

getopts = "0.2.21"

log.workspace = true
env_logger = { version = "0.10.0", default-features = false, features = ["color"] }

strum.workspace = true
indenter = { version = "0.3.3", features = ["std"] }

[target.'cfg(windows)'.dependencies]
windows-sys = { version = "0.48.0", features = ["Win32_System_Console", "Win32_Foundation"] }

[target.'cfg(windows)'.build-dependencies]
winresource = "0.1.16"

[[bin]]
name = "packsquash"
bench = false

[package.metadata.deb]
name = "packsquash"
maintainer = "Alejandro Gonz√°lez <me@alegon.dev>"
copyright = "PackSquash developers"
license-file = ["../../LICENSE", "0"]
extended-description-file = "target/debian/extended_package_description.txt"
suggests = "packsquash-gui"
assets = [
	["target/release/packsquash", "usr/bin/packsquash", "755"],
	["../../README.md", "usr/share/doc/packsquash/README.md", "644"]
]
section = "utils"
# For each release with the same version number (shouldn't be too many),
# increment this, and change APT repo action
revision = "0"

[package.metadata.winresource]
ProductName = "PackSquash"
CompanyName = "Comunidad Aylas"
OriginalFilename = "packsquash.exe"
InternalName = "packsquash.exe"
